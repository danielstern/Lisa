<!doctype HTML>
<!-- Copyright 2013 danielstern.ca - feel free to examine, learn and apply -->

<html ng-app=''> 
<head>
  <title>LISA: The Neuro-Computational Matrix</title>
  <meta name="viewport" content="width=device-width; initial-scale=1.0;">

  <script src="lib/jquery/jquery-1.10.1.min.js"></script> 
  <script src="lib/angular/angular.js"></script>
  <script src="lib/less/less-1.3.3.min.js"></script>
  <script src="lib/bootstrap/js/bootstrap.js"></script>
  <script src="lib/underscore/underscore.js"></script>
  <script src="lib/underscore/underscore.string.min.js"></script>
  <script>
     _.mixin(_.str.exports())
  </script>

  <link rel="stylesheet" type="text/css" href="lib/bootstrap/css/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="lib/bootstrap/css/bootstrap-responsive.css">

  <script src="js/stories.js"></script>
  <script src="js/transliterate.js"></script>
  <script src="js/expressions.js"></script>
  <script src="lang/lexicon.js"></script>
  <script src="js/formalExpressions.js"></script>
  <script src="js/casualExpressions.js"></script>
  <script src="js/patterns.js"></script>
  <script src="js/filter.js"></script>
  
  <!-- LISA -->
  <script src="js/Speech.js"></script>
  <script src="js/Brain.js"></script>
  <script src="js/Lisa.js"></script>
  <script src="js/Utility.js"></script>
  <script src="js/Logic.js"></script>
  <script src="js/Personality.js"></script>
  <script src="js/Psychic.js"></script>
  <script src="js/Memory.js"></script>
  <script src="js/Expresso.js"></script>




</head>
<body>
  <div class='container' style='padding:60px;'>
    <div class="row">
      <div class='span5'>
        <h3>Lisa</h3>
        <p id='dialogue'>Hey there.</p>
        <form id='conversation-form'>
          <input class='disabled' id='conversation-input' type='text'>
        </form>
        <button class='btn' id='saySomethingRandom'>Say Something Random</button>
      </div>
      <div class='span3'>
        <img src='../misc/lisa.jpg' width='200px' height='auto'>
      </div>
    </div>

  </div>
</body>

<script>

  $('#conversation-form').submit(function(e){

    var $input = $('#conversation-input');
    var inputText = $input.val();
    $input.val('');

    if (!inputText) {

        $Lisa.saySomethingRandom().then(function(response){
         $('#dialogue').html(response); 
       })

        return;

    }

    $Lisa.isTalkingTo($responder);
    $Lisa.hears(inputText);

    function $responder(words) {
      $('#dialogue').html(words); 
    }

    e.preventDefault();
    return false;
  })

  $('#saySomethingRandom').click(function(){

    $Lisa.saySomethingRandom().then(function(response){
       $('#dialogue').html(response); 
    })
      
       $('#dialogue').html("Hmmm.."); 


  });


  var $Lisa = new Lisa();

  $Lisa.saySomethingRandom().then(function(response){
    $('#dialogue').html(response); 
  })


</script>
